{"ast":null,"code":"\"use strict\";\nvar _classCallCheck = require(\"@babel/runtime/helpers/classCallCheck\");\nvar _createClass = require(\"@babel/runtime/helpers/createClass\");\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nvar env_1 = require(\"../env\");\nvar escapeStringRegexp_1 = require(\"../utils/escapeStringRegexp\");\nvar InterpolateHtmlPlugin = function () {\n  function InterpolateHtmlPlugin(htmlWebpackPlugin, replacements) {\n    _classCallCheck(this, InterpolateHtmlPlugin);\n    this.htmlWebpackPlugin = htmlWebpackPlugin;\n    this.replacements = replacements;\n  }\n  _createClass(InterpolateHtmlPlugin, [{\n    key: \"apply\",\n    value: function apply(compiler) {\n      var _this = this;\n      var logger = compiler.getInfrastructureLogger('interpolate-html-plugin');\n      compiler.hooks.compilation.tap(this.constructor.name, function (compilation) {\n        _this.htmlWebpackPlugin.getHooks(compilation).afterTemplateExecution.tap(_this.constructor.name, function (data) {\n          Object.keys(_this.replacements).forEach(function (key) {\n            var value = _this.replacements[key];\n            logger.debug(\"Replace: \\\"\" + key + \"\\\" with: \" + value);\n            data.html = data.html.replace(new RegExp('%' + (0, escapeStringRegexp_1.escapeStringRegexp)(key) + '%', 'g'), value);\n          });\n        });\n      });\n    }\n  }]);\n  return InterpolateHtmlPlugin;\n}();\nexports.default = InterpolateHtmlPlugin;\nInterpolateHtmlPlugin.fromEnv = function (env, htmlWebpackPlugin) {\n  var _a, _b;\n  var config = env.config || (0, env_1.getConfig)(env);\n  var _ref = (0, env_1.getPublicPaths)(env),\n    publicPath = _ref.publicPath;\n  return new InterpolateHtmlPlugin(htmlWebpackPlugin, {\n    WEB_PUBLIC_URL: publicPath,\n    WEB_TITLE: (_a = config.web) === null || _a === void 0 ? void 0 : _a.name,\n    LANG_ISO_CODE: (_b = config.web) === null || _b === void 0 ? void 0 : _b.lang,\n    NO_SCRIPT: \"<form action=\\\"\\\" style=\\\"background-color:#fff;position:fixed;top:0;left:0;right:0;bottom:0;z-index:9999;\\\"><div style=\\\"font-size:18px;font-family:Helvetica,sans-serif;line-height:24px;margin:10%;width:80%;\\\"> <p>Oh no! It looks like JavaScript is not enabled in your browser.</p> <p style=\\\"margin:20px 0;\\\"> <button type=\\\"submit\\\" style=\\\"background-color: #4630EB; border-radius: 100px; border: none; box-shadow: none; color: #fff; cursor: pointer; font-weight: bold; line-height: 20px; padding: 6px 16px;\\\">Reload</button> </p> </div> </form>\",\n    ROOT_ID: 'root'\n  });\n};","map":{"version":3,"names":["env_1","require","escapeStringRegexp_1","InterpolateHtmlPlugin","htmlWebpackPlugin","replacements","_classCallCheck","_createClass","key","value","apply","compiler","_this","logger","getInfrastructureLogger","hooks","compilation","tap","constructor","name","getHooks","afterTemplateExecution","data","Object","keys","forEach","debug","html","replace","RegExp","escapeStringRegexp","exports","default","fromEnv","env","config","getConfig","_ref","getPublicPaths","publicPath","WEB_PUBLIC_URL","WEB_TITLE","_a","web","LANG_ISO_CODE","_b","lang","NO_SCRIPT","ROOT_ID"],"sources":["/Users/henriqueeidt/Documents/Projects/poc-web-mobile-components/component-library/node_modules/@expo/webpack-config/src/plugins/ExpoInterpolateHtmlPlugin.ts"],"sourcesContent":["/**\n * Copyright (c) 2015-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @borrows https://github.com/facebook/create-react-app/blob/f0a837c1f07ebd963ddbba2c2937d04fc1b79d40/packages/react-dev-utils/InterpolateHtmlPlugin.js\n */\n\n// Extracted to ensure the `html-webpack-plugin` was always the same.\n\nimport HtmlWebpackPlugin from 'html-webpack-plugin';\nimport { Compiler } from 'webpack';\n\nimport { getConfig, getPublicPaths } from '../env';\nimport { Environment } from '../types';\nimport { escapeStringRegexp } from '../utils/escapeStringRegexp';\n\nexport default class InterpolateHtmlPlugin {\n  static fromEnv = (\n    env: Pick<Environment, 'mode' | 'config' | 'locations' | 'projectRoot'>,\n    htmlWebpackPlugin: typeof HtmlWebpackPlugin\n  ): InterpolateHtmlPlugin => {\n    const config = env.config || getConfig(env);\n    const { publicPath } = getPublicPaths(env);\n\n    // @ts-ignore\n    return new InterpolateHtmlPlugin(htmlWebpackPlugin, {\n      WEB_PUBLIC_URL: publicPath,\n      // @ts-ignore Type 'string | undefined' is not assignable to type 'string'.\n      WEB_TITLE: config.web?.name,\n      LANG_ISO_CODE: config.web?.lang,\n      // These are for legacy ejected web/index.html files\n      NO_SCRIPT: `<form action=\"\" style=\"background-color:#fff;position:fixed;top:0;left:0;right:0;bottom:0;z-index:9999;\"><div style=\"font-size:18px;font-family:Helvetica,sans-serif;line-height:24px;margin:10%;width:80%;\"> <p>Oh no! It looks like JavaScript is not enabled in your browser.</p> <p style=\"margin:20px 0;\"> <button type=\"submit\" style=\"background-color: #4630EB; border-radius: 100px; border: none; box-shadow: none; color: #fff; cursor: pointer; font-weight: bold; line-height: 20px; padding: 6px 16px;\">Reload</button> </p> </div> </form>`,\n      ROOT_ID: 'root',\n    });\n  };\n\n  constructor(\n    public htmlWebpackPlugin: HtmlWebpackPlugin,\n    public replacements: Record<string, string>\n  ) {}\n\n  apply(compiler: Compiler) {\n    const logger = compiler.getInfrastructureLogger('interpolate-html-plugin');\n\n    compiler.hooks.compilation.tap(this.constructor.name, compilation => {\n      this.htmlWebpackPlugin\n        // @ts-ignore\n        .getHooks(compilation)\n        .afterTemplateExecution.tap(this.constructor.name, (data: any) => {\n          // Run HTML through a series of user-specified string replacements.\n          Object.keys(this.replacements).forEach(key => {\n            const value = this.replacements[key];\n            logger.debug(`Replace: \"${key}\" with: ${value}`);\n            data.html = data.html.replace(\n              new RegExp('%' + escapeStringRegexp(key) + '%', 'g'),\n              value\n            );\n          });\n        });\n    });\n  }\n}\n"],"mappings":";;;;;;AAcA,IAAAA,KAAA,GAAAC,OAAA;AAEA,IAAAC,oBAAA,GAAAD,OAAA;AAAiE,IAE5CE,qBAAqB;EAoBxC,SAAAA,sBACSC,iBAAoC,EACpCC,YAAoC;IAAAC,eAAA,OAAAH,qBAAA;IADpC,KAAAC,iBAAiB,GAAjBA,iBAAiB;IACjB,KAAAC,YAAY,GAAZA,YAAY;EAClB;EAACE,YAAA,CAAAJ,qBAAA;IAAAK,GAAA;IAAAC,KAAA,EAEJ,SAAAC,MAAMC,QAAkB;MAAA,IAAAC,KAAA;MACtB,IAAMC,MAAM,GAAGF,QAAQ,CAACG,uBAAuB,CAAC,yBAAyB,CAAC;MAE1EH,QAAQ,CAACI,KAAK,CAACC,WAAW,CAACC,GAAG,CAAC,IAAI,CAACC,WAAW,CAACC,IAAI,EAAE,UAAAH,WAAW,EAAG;QAClEJ,KAAI,CAACR,iBAAiB,CAEnBgB,QAAQ,CAACJ,WAAW,CAAC,CACrBK,sBAAsB,CAACJ,GAAG,CAACL,KAAI,CAACM,WAAW,CAACC,IAAI,EAAE,UAACG,IAAS,EAAI;UAE/DC,MAAM,CAACC,IAAI,CAACZ,KAAI,CAACP,YAAY,CAAC,CAACoB,OAAO,CAAC,UAAAjB,GAAG,EAAG;YAC3C,IAAMC,KAAK,GAAGG,KAAI,CAACP,YAAY,CAACG,GAAG,CAAC;YACpCK,MAAM,CAACa,KAAK,iBAAclB,GAAG,iBAAWC,KAAK,CAAG;YAChDa,IAAI,CAACK,IAAI,GAAGL,IAAI,CAACK,IAAI,CAACC,OAAO,CAC3B,IAAIC,MAAM,CAAC,GAAG,GAAG,IAAA3B,oBAAA,CAAA4B,kBAAkB,EAACtB,GAAG,CAAC,GAAG,GAAG,EAAE,GAAG,CAAC,EACpDC,KAAK,CACN;UACH,CAAC,CAAC;QACJ,CAAC,CAAC;MACN,CAAC,CAAC;IACJ;EAAC;EAAA,OAAAN,qBAAA;AAAA;AA5CH4B,OAAA,CAAAC,OAAA,GAAA7B,qBAAA;AACSA,qBAAA,CAAA8B,OAAO,GAAG,UACfC,GAAuE,EACvE9B,iBAA2C,EAClB;;EACzB,IAAM+B,MAAM,GAAGD,GAAG,CAACC,MAAM,IAAI,IAAAnC,KAAA,CAAAoC,SAAS,EAACF,GAAG,CAAC;EAC3C,IAAAG,IAAA,GAAuB,IAAArC,KAAA,CAAAsC,cAAc,EAACJ,GAAG,CAAC;IAAlCK,UAAU,GAAAF,IAAA,CAAVE,UAAU;EAGlB,OAAO,IAAIpC,qBAAqB,CAACC,iBAAiB,EAAE;IAClDoC,cAAc,EAAED,UAAU;IAE1BE,SAAS,EAAE,CAAAC,EAAA,GAAAP,MAAM,CAACQ,GAAG,cAAAD,EAAA,uBAAAA,EAAA,CAAEvB,IAAI;IAC3ByB,aAAa,EAAE,CAAAC,EAAA,GAAAV,MAAM,CAACQ,GAAG,cAAAE,EAAA,uBAAAA,EAAA,CAAEC,IAAI;IAE/BC,SAAS,yiBAA6hB;IACtiBC,OAAO,EAAE;GACV,CAAC;AACJ,CAAC"},"metadata":{},"sourceType":"script","externalDependencies":[]}