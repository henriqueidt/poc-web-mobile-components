{"ast":null,"code":"\"use strict\";\n\nvar _createClass = require(\"@babel/runtime/helpers/createClass\");\nvar _classCallCheck = require(\"@babel/runtime/helpers/classCallCheck\");\nvar _inherits = require(\"@babel/runtime/helpers/inherits\");\nvar _possibleConstructorReturn = require(\"@babel/runtime/helpers/possibleConstructorReturn\");\nvar _getPrototypeOf = require(\"@babel/runtime/helpers/getPrototypeOf\");\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\nvar __importDefault = this && this.__importDefault || function (mod) {\n  return mod && mod.__esModule ? mod : {\n    \"default\": mod\n  };\n};\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nvar chalk_1 = __importDefault(require(\"chalk\"));\nvar html_webpack_plugin_1 = __importDefault(require(\"html-webpack-plugin\"));\nvar env_1 = require(\"../env\");\nvar utils_1 = require(\"../utils\");\nvar DEFAULT_MINIFY = {\n  removeComments: true,\n  collapseWhitespace: true,\n  removeRedundantAttributes: true,\n  useShortDoctype: true,\n  removeEmptyAttributes: true,\n  removeStyleLinkTypeAttributes: true,\n  keepClosingSlash: true,\n  minifyJS: true,\n  minifyCSS: true,\n  minifyURLs: true\n};\nvar HtmlWebpackPlugin = function (_html_webpack_plugin_) {\n  _inherits(HtmlWebpackPlugin, _html_webpack_plugin_);\n  var _super = _createSuper(HtmlWebpackPlugin);\n  function HtmlWebpackPlugin(env, templateHtmlData) {\n    _classCallCheck(this, HtmlWebpackPlugin);\n    var _a, _b, _c, _d, _e, _f, _g;\n    var locations = env.locations || (0, env_1.getPaths)(env.projectRoot, env);\n    var config = (0, env_1.getConfig)(env);\n    var isProduction = (0, env_1.getMode)(env) === 'production';\n    var minify = (0, utils_1.overrideWithPropertyOrConfig)(isProduction ? (_b = (_a = config.web) === null || _a === void 0 ? void 0 : _a.build) === null || _b === void 0 ? void 0 : _b.minifyHTML : false, DEFAULT_MINIFY);\n    var meta = {};\n    if (templateHtmlData && templateHtmlData.querySelectorAll) {\n      var templateMeta = templateHtmlData.querySelectorAll('meta');\n      if (!templateMeta.some(function (node) {\n        return node.getAttribute('name') === 'viewport';\n      })) {\n        console.warn(chalk_1.default.bgYellow.black('Warning: No viewport meta tag is defined in the <head /> of `web/index.html`. Please update your `web/index.html` to include one. The default value is:\\n\\n') + chalk_1.default.magenta('<meta name=\"viewport\" content=\"width=device-width,initial-scale=1,minimum-scale=1,maximum-scale=1.00001,viewport-fit=cover\">'));\n        meta.viewport = 'width=device-width, initial-scale=1, minimum-scale=1, maximum-scale=1.00001, viewport-fit=cover';\n      }\n      if (((_c = config.web) === null || _c === void 0 ? void 0 : _c.themeColor) && !templateMeta.some(function (node) {\n        return node.getAttribute('name') === 'theme-color';\n      })) {\n        meta['theme-color'] = (_d = config.web) === null || _d === void 0 ? void 0 : _d.themeColor;\n      }\n      if (((_e = config.web) === null || _e === void 0 ? void 0 : _e.description) && !templateMeta.some(function (node) {\n        return node.getAttribute('name') === 'description';\n      })) {\n        meta['description'] = (_f = config.web) === null || _f === void 0 ? void 0 : _f.description;\n      }\n    }\n    return _super.call(this, {\n      filename: locations.production.indexHtml,\n      title: (_g = config.web) === null || _g === void 0 ? void 0 : _g.name,\n      minify: minify,\n      template: locations.template.indexHtml,\n      meta: meta\n    });\n  }\n  return _createClass(HtmlWebpackPlugin);\n}(html_webpack_plugin_1.default);\nexports.default = HtmlWebpackPlugin;","map":{"version":3,"names":["chalk_1","__importDefault","require","html_webpack_plugin_1","env_1","utils_1","DEFAULT_MINIFY","removeComments","collapseWhitespace","removeRedundantAttributes","useShortDoctype","removeEmptyAttributes","removeStyleLinkTypeAttributes","keepClosingSlash","minifyJS","minifyCSS","minifyURLs","HtmlWebpackPlugin","_html_webpack_plugin_","_inherits","_super","_createSuper","env","templateHtmlData","_classCallCheck","locations","getPaths","projectRoot","config","getConfig","isProduction","getMode","minify","overrideWithPropertyOrConfig","_b","_a","web","build","minifyHTML","meta","querySelectorAll","templateMeta","some","node","getAttribute","console","warn","default","bgYellow","black","magenta","viewport","_c","themeColor","_d","_e","description","_f","call","filename","production","indexHtml","title","_g","name","template","_createClass","exports"],"sources":["/Users/henriqueeidt/Documents/Projects/poc-web-mobile-components/component-library/node_modules/@expo/webpack-config/src/plugins/ExpoHtmlWebpackPlugin.ts"],"sourcesContent":["import chalk from 'chalk';\nimport OriginalHtmlWebpackPlugin from 'html-webpack-plugin';\n\nimport { getConfig, getMode, getPaths } from '../env';\nimport { Environment } from '../types';\nimport { overrideWithPropertyOrConfig } from '../utils';\n\nconst DEFAULT_MINIFY = {\n  removeComments: true,\n  collapseWhitespace: true,\n  removeRedundantAttributes: true,\n  useShortDoctype: true,\n  removeEmptyAttributes: true,\n  removeStyleLinkTypeAttributes: true,\n  keepClosingSlash: true,\n  minifyJS: true,\n  minifyCSS: true,\n  minifyURLs: true,\n};\n\n/**\n * Generates an `index.html` file with the <script> injected.\n *\n * @category plugins\n */\nexport default class HtmlWebpackPlugin extends OriginalHtmlWebpackPlugin {\n  constructor(env: Environment, templateHtmlData?: any) {\n    const locations = env.locations || getPaths(env.projectRoot, env);\n    const config = getConfig(env);\n    const isProduction = getMode(env) === 'production';\n\n    /**\n     * The user can disable minify with\n     * `web.minifyHTML = false || {}`\n     */\n    const minify = overrideWithPropertyOrConfig(\n      isProduction ? config.web?.build?.minifyHTML : false,\n      DEFAULT_MINIFY\n    );\n\n    const meta: Record<string, any> = {};\n\n    if (templateHtmlData && templateHtmlData.querySelectorAll) {\n      // @ts-ignore\n      const templateMeta = templateHtmlData.querySelectorAll('meta');\n\n      // Ensure there is no viewport meta tag in the default `web/index.html`.\n      // Because the viewport tag has been moved into the template, this will\n      // ensure that legacy `web/index.html`s get a viewport meta tag added to them.\n      if (!templateMeta.some((node: any) => node.getAttribute('name') === 'viewport')) {\n        console.warn(\n          chalk.bgYellow.black(\n            'Warning: No viewport meta tag is defined in the <head /> of `web/index.html`. Please update your `web/index.html` to include one. The default value is:\\n\\n'\n          ) +\n            chalk.magenta(\n              '<meta name=\"viewport\" content=\"width=device-width,initial-scale=1,minimum-scale=1,maximum-scale=1.00001,viewport-fit=cover\">'\n            )\n        );\n        meta.viewport =\n          'width=device-width, initial-scale=1, minimum-scale=1, maximum-scale=1.00001, viewport-fit=cover';\n      }\n      // Meta tag to define a suggested color that browsers should use to customize the display of the page or of the surrounding user interface.\n      // The meta tag overrides any theme-color set in the web app manifest.\n      if (\n        config.web?.themeColor &&\n        !templateMeta.some((node: any) => node.getAttribute('name') === 'theme-color')\n      ) {\n        meta['theme-color'] = config.web?.themeColor;\n      }\n\n      if (\n        config.web?.description &&\n        !templateMeta.some((node: any) => node.getAttribute('name') === 'description')\n      ) {\n        meta['description'] = config.web?.description;\n      }\n    }\n\n    super({\n      // The file to write the HTML to.\n      filename: locations.production.indexHtml,\n      // The title to use for the generated HTML document.\n      title: config.web?.name,\n      // Pass a html-minifier options object to minify the output.\n      // https://github.com/kangax/html-minifier#options-quick-reference\n      minify,\n      // The `webpack` require path to the template.\n      template: locations.template.indexHtml,\n      meta,\n    });\n  }\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"script","externalDependencies":[]}