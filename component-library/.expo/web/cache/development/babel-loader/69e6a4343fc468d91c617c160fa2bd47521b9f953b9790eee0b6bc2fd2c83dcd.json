{"ast":null,"code":"\"use strict\";\n\nvar _slicedToArray = require(\"@babel/runtime/helpers/slicedToArray\");\nvar _defineProperty = require(\"@babel/runtime/helpers/defineProperty\");\nvar _objectWithoutProperties = require(\"@babel/runtime/helpers/objectWithoutProperties\");\nvar _excluded = [\"CFBundleDisplayName\"],\n  _excluded2 = [\"CFBundleName\"];\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.getName = getName;\nexports.setDisplayName = setDisplayName;\nexports.setName = setName;\nexports.setProductName = setProductName;\nexports.withProductName = exports.withName = exports.withDisplayName = void 0;\nfunction _iosPlugins() {\n  var data = require(\"../plugins/ios-plugins\");\n  _iosPlugins = function _iosPlugins() {\n    return data;\n  };\n  return data;\n}\nfunction _Target() {\n  var data = require(\"./Target\");\n  _Target = function _Target() {\n    return data;\n  };\n  return data;\n}\nfunction _Xcodeproj() {\n  var data = require(\"./utils/Xcodeproj\");\n  _Xcodeproj = function _Xcodeproj() {\n    return data;\n  };\n  return data;\n}\nvar withDisplayName = (0, _iosPlugins().createInfoPlistPlugin)(setDisplayName, 'withDisplayName');\nexports.withDisplayName = withDisplayName;\nvar withName = (0, _iosPlugins().createInfoPlistPlugin)(setName, 'withName');\nexports.withName = withName;\nvar withProductName = function withProductName(config) {\n  return (0, _iosPlugins().withXcodeProject)(config, function (config) {\n    config.modResults = setProductName(config, config.modResults);\n    return config;\n  });\n};\nexports.withProductName = withProductName;\nfunction getName(config) {\n  return typeof config.name === 'string' ? config.name : null;\n}\nfunction setDisplayName(configOrName, _ref) {\n  var CFBundleDisplayName = _ref.CFBundleDisplayName,\n    infoPlist = _objectWithoutProperties(_ref, _excluded);\n  var name = null;\n  if (typeof configOrName === 'string') {\n    name = configOrName;\n  } else {\n    name = getName(configOrName);\n  }\n  if (!name) {\n    return infoPlist;\n  }\n  return _objectSpread(_objectSpread({}, infoPlist), {}, {\n    CFBundleDisplayName: name\n  });\n}\nfunction setName(config, _ref2) {\n  var CFBundleName = _ref2.CFBundleName,\n    infoPlist = _objectWithoutProperties(_ref2, _excluded2);\n  var name = getName(config);\n  if (!name) {\n    return infoPlist;\n  }\n  return _objectSpread(_objectSpread({}, infoPlist), {}, {\n    CFBundleName: name\n  });\n}\nfunction setProductName(config, project) {\n  var _getName;\n  var name = (0, _Xcodeproj().sanitizedName)((_getName = getName(config)) !== null && _getName !== void 0 ? _getName : '');\n  if (!name) {\n    return project;\n  }\n  var quotedName = ensureQuotes(name);\n  var _ref3 = (0, _Target().findFirstNativeTarget)(project),\n    _ref4 = _slicedToArray(_ref3, 2),\n    nativeTarget = _ref4[1];\n  (0, _Xcodeproj().getBuildConfigurationsForListId)(project, nativeTarget.buildConfigurationList).forEach(function (_ref5) {\n    var _ref6 = _slicedToArray(_ref5, 2),\n      item = _ref6[1];\n    item.buildSettings.PRODUCT_NAME = quotedName;\n  });\n  return project;\n}\nvar ensureQuotes = function ensureQuotes(value) {\n  if (!value.match(/^['\"]/)) {\n    return \"\\\"\" + value + \"\\\"\";\n  }\n  return value;\n};","map":{"version":3,"names":["_iosPlugins","data","require","_Target","_Xcodeproj","withDisplayName","createInfoPlistPlugin","setDisplayName","withName","setName","withProductName","config","withXcodeProject","modResults","setProductName","getName","name","configOrName","_ref","CFBundleDisplayName","infoPlist","_objectWithoutProperties","_excluded","_objectSpread","_ref2","CFBundleName","_excluded2","project","_getName","sanitizedName","quotedName","ensureQuotes","_ref3","findFirstNativeTarget","_ref4","_slicedToArray","nativeTarget","getBuildConfigurationsForListId","buildConfigurationList","forEach","_ref5","_ref6","item","buildSettings","PRODUCT_NAME","value","match"],"sources":["/Users/henriqueeidt/Documents/Projects/poc-web-mobile-components/component-library/node_modules/@expo/config-plugins/src/ios/Name.ts"],"sourcesContent":["import { ExpoConfig } from '@expo/config-types';\nimport { XcodeProject } from 'xcode';\n\nimport { ConfigPlugin } from '../Plugin.types';\nimport { createInfoPlistPlugin, withXcodeProject } from '../plugins/ios-plugins';\nimport { InfoPlist } from './IosConfig.types';\nimport { findFirstNativeTarget } from './Target';\nimport {\n  ConfigurationSectionEntry,\n  getBuildConfigurationsForListId,\n  sanitizedName,\n} from './utils/Xcodeproj';\n\nexport const withDisplayName = createInfoPlistPlugin(setDisplayName, 'withDisplayName');\n\nexport const withName = createInfoPlistPlugin(setName, 'withName');\n\n/** Set the PRODUCT_NAME variable in the xcproj file based on the app.json name property. */\nexport const withProductName: ConfigPlugin = config => {\n  return withXcodeProject(config, config => {\n    config.modResults = setProductName(config, config.modResults);\n    return config;\n  });\n};\n\nexport function getName(config: Pick<ExpoConfig, 'name'>) {\n  return typeof config.name === 'string' ? config.name : null;\n}\n\n/**\n * CFBundleDisplayName is used for most things: the name on the home screen, in\n * notifications, and others.\n */\nexport function setDisplayName(\n  configOrName: Pick<ExpoConfig, 'name'> | string,\n  { CFBundleDisplayName, ...infoPlist }: InfoPlist\n): InfoPlist {\n  let name: string | null = null;\n  if (typeof configOrName === 'string') {\n    name = configOrName;\n  } else {\n    name = getName(configOrName);\n  }\n\n  if (!name) {\n    return infoPlist;\n  }\n\n  return {\n    ...infoPlist,\n    CFBundleDisplayName: name,\n  };\n}\n\n/**\n * CFBundleName is recommended to be 16 chars or less and is used in lists, eg:\n * sometimes on the App Store\n */\nexport function setName(\n  config: Pick<ExpoConfig, 'name'>,\n  { CFBundleName, ...infoPlist }: InfoPlist\n): InfoPlist {\n  const name = getName(config);\n\n  if (!name) {\n    return infoPlist;\n  }\n\n  return {\n    ...infoPlist,\n    CFBundleName: name,\n  };\n}\n\nexport function setProductName(\n  config: Pick<ExpoConfig, 'name'>,\n  project: XcodeProject\n): XcodeProject {\n  const name = sanitizedName(getName(config) ?? '');\n\n  if (!name) {\n    return project;\n  }\n  const quotedName = ensureQuotes(name);\n\n  const [, nativeTarget] = findFirstNativeTarget(project);\n\n  getBuildConfigurationsForListId(project, nativeTarget.buildConfigurationList).forEach(\n    ([, item]: ConfigurationSectionEntry) => {\n      item.buildSettings.PRODUCT_NAME = quotedName;\n    }\n  );\n\n  return project;\n}\n\nconst ensureQuotes = (value: string) => {\n  if (!value.match(/^['\"]/)) {\n    return `\"${value}\"`;\n  }\n  return value;\n};\n"],"mappings":"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"},"metadata":{},"sourceType":"script","externalDependencies":[]}