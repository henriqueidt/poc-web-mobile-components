{"ast":null,"code":"\"use strict\";\n\nvar _slicedToArray = require(\"@babel/runtime/helpers/slicedToArray\");\nvar _defineProperty = require(\"@babel/runtime/helpers/defineProperty\");\nvar _asyncToGenerator = require(\"@babel/runtime/helpers/asyncToGenerator\");\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.buildResourceGroup = buildResourceGroup;\nexports.buildResourceItem = buildResourceItem;\nexports.ensureDefaultResourceXML = ensureDefaultResourceXML;\nexports.findResourceGroup = findResourceGroup;\nexports.getObjectAsResourceGroup = getObjectAsResourceGroup;\nexports.getObjectAsResourceItems = getObjectAsResourceItems;\nexports.getResourceItemsAsObject = getResourceItemsAsObject;\nexports.readResourcesXMLAsync = readResourcesXMLAsync;\nfunction _XML() {\n  var data = require(\"../utils/XML\");\n  _XML = function _XML() {\n    return data;\n  };\n  return data;\n}\nvar fallbackResourceString = \"<?xml version=\\\"1.0\\\" encoding=\\\"utf-8\\\"?><resources></resources>\";\nfunction readResourcesXMLAsync(_x) {\n  return _readResourcesXMLAsync.apply(this, arguments);\n}\nfunction _readResourcesXMLAsync() {\n  _readResourcesXMLAsync = _asyncToGenerator(function* (_ref) {\n    var path = _ref.path,\n      _ref$fallback = _ref.fallback,\n      fallback = _ref$fallback === void 0 ? fallbackResourceString : _ref$fallback;\n    var xml = yield (0, _XML().readXMLAsync)({\n      path: path,\n      fallback: fallback\n    });\n    if (!xml.resources) {\n      xml.resources = {};\n    }\n    return xml;\n  });\n  return _readResourcesXMLAsync.apply(this, arguments);\n}\nfunction ensureDefaultResourceXML(xml) {\n  if (!xml) {\n    xml = {\n      resources: {}\n    };\n  }\n  if (!xml.resources) {\n    xml.resources = {};\n  }\n  return xml;\n}\nfunction buildResourceItem(_ref2) {\n  var name = _ref2.name,\n    value = _ref2.value,\n    targetApi = _ref2.targetApi,\n    translatable = _ref2.translatable;\n  var item = {\n    $: {\n      name: name\n    },\n    _: value\n  };\n  if (targetApi) {\n    item.$['tools:targetApi'] = targetApi;\n  }\n  if (translatable !== undefined) {\n    item.$['translatable'] = String(translatable);\n  }\n  return item;\n}\nfunction buildResourceGroup(parent) {\n  var _parent$items;\n  return {\n    $: {\n      name: parent.name,\n      parent: parent.parent\n    },\n    item: (_parent$items = parent.items) !== null && _parent$items !== void 0 ? _parent$items : []\n  };\n}\nfunction findResourceGroup(xml, group) {\n  var _xml$filter, _xml$filter$call;\n  var app = xml === null || xml === void 0 ? void 0 : (_xml$filter = xml.filter) === null || _xml$filter === void 0 ? void 0 : (_xml$filter$call = _xml$filter.call(xml, function (_ref3) {\n    var head = _ref3.$;\n    var matches = head.name === group.name;\n    if (group.parent != null && matches) {\n      matches = head.parent === group.parent;\n    }\n    return matches;\n  })) === null || _xml$filter$call === void 0 ? void 0 : _xml$filter$call[0];\n  return app !== null && app !== void 0 ? app : null;\n}\nfunction getResourceItemsAsObject(xml) {\n  return xml.reduce(function (prev, curr) {\n    return _objectSpread(_objectSpread({}, prev), {}, _defineProperty({}, curr.$.name, curr._));\n  }, {});\n}\nfunction getObjectAsResourceItems(obj) {\n  return Object.entries(obj).map(function (_ref4) {\n    var _ref5 = _slicedToArray(_ref4, 2),\n      name = _ref5[0],\n      value = _ref5[1];\n    return {\n      $: {\n        name: name\n      },\n      _: value\n    };\n  });\n}\nfunction getObjectAsResourceGroup(group) {\n  return {\n    $: {\n      name: group.name,\n      parent: group.parent\n    },\n    item: getObjectAsResourceItems(group.item)\n  };\n}","map":{"version":3,"names":["_XML","data","require","fallbackResourceString","readResourcesXMLAsync","_x","_readResourcesXMLAsync","apply","arguments","_asyncToGenerator","_ref","path","_ref$fallback","fallback","xml","readXMLAsync","resources","ensureDefaultResourceXML","buildResourceItem","_ref2","name","value","targetApi","translatable","item","$","_","undefined","String","buildResourceGroup","parent","_parent$items","items","findResourceGroup","group","_xml$filter","_xml$filter$call","app","filter","call","_ref3","head","matches","getResourceItemsAsObject","reduce","prev","curr","_objectSpread","_defineProperty","getObjectAsResourceItems","obj","Object","entries","map","_ref4","_ref5","_slicedToArray","getObjectAsResourceGroup"],"sources":["/Users/henriqueeidt/Documents/Projects/poc-web-mobile-components/component-library/node_modules/@expo/config-plugins/src/android/Resources.ts"],"sourcesContent":["import { readXMLAsync, XMLObject } from '../utils/XML';\n\nexport type ResourceGroupXML = {\n  $: {\n    name: string;\n    parent: string;\n  };\n  item: ResourceItemXML[];\n};\n\nexport type ResourceXML = {\n  resources: {\n    $?: {\n      'xmlns:tools'?: string;\n    };\n    color?: ResourceItemXML[];\n    string?: ResourceItemXML[];\n    style?: ResourceGroupXML[];\n    // Add more if needed...\n  };\n};\n\nexport type ResourceItemXML = {\n  _: string;\n  $: {\n    name: string;\n    'tools:targetApi'?: string;\n    translatable?: string;\n  };\n};\n/**\n * Name of the resource folder.\n */\nexport type ResourceKind =\n  | 'values'\n  | 'values-night'\n  | 'values-v23'\n  | 'values-night-v23'\n  | 'drawable';\n\nconst fallbackResourceString = `<?xml version=\"1.0\" encoding=\"utf-8\"?><resources></resources>`;\n\n/**\n * Read an XML file while providing a default fallback for resource files.\n *\n * @param options path to the XML file, returns a fallback XML if the path doesn't exist.\n */\nexport async function readResourcesXMLAsync({\n  path,\n  fallback = fallbackResourceString,\n}: {\n  path: string;\n  fallback?: string | null;\n}): Promise<ResourceXML> {\n  const xml = await readXMLAsync({ path, fallback });\n  // Ensure the type is expected.\n  if (!xml.resources) {\n    xml.resources = {};\n  }\n  return xml as ResourceXML;\n}\n\n/**\n * Ensure the provided xml has a `resources` object (the expected shape).\n *\n * @param xml\n */\nexport function ensureDefaultResourceXML(xml: XMLObject): ResourceXML {\n  if (!xml) {\n    xml = { resources: {} };\n  }\n  if (!xml.resources) {\n    xml.resources = {};\n  }\n\n  return xml as ResourceXML;\n}\n\n/**\n * Build a `ResourceItemXML` given its `name` and `value`. This makes things a bit more readable.\n *\n * - JSON: `{ $: { name }, _: value }`\n * - XML: `<item name=\"NAME\">VALUE</item>`\n *\n * @param props name and value strings.\n */\nexport function buildResourceItem({\n  name,\n  value,\n  targetApi,\n  translatable,\n}: {\n  name: string;\n  value: string;\n  targetApi?: string;\n  translatable?: boolean;\n}): ResourceItemXML {\n  const item: ResourceItemXML = { $: { name }, _: value };\n  if (targetApi) {\n    item.$['tools:targetApi'] = targetApi;\n  }\n  if (translatable !== undefined) {\n    item.$['translatable'] = String(translatable);\n  }\n  return item;\n}\n\nexport function buildResourceGroup(parent: {\n  name: string;\n  parent: string;\n  items?: ResourceItemXML[];\n}): ResourceGroupXML {\n  return {\n    $: { name: parent.name, parent: parent.parent },\n    item: parent.items ?? [],\n  };\n}\n\nexport function findResourceGroup(\n  xml: ResourceGroupXML[] | undefined,\n  group: { name: string; parent?: string }\n): ResourceGroupXML | null {\n  const app = xml?.filter?.(({ $: head }) => {\n    let matches = head.name === group.name;\n    if (group.parent != null && matches) {\n      matches = head.parent === group.parent;\n    }\n    return matches;\n  })?.[0];\n  return app ?? null;\n}\n\n/**\n * Helper to convert a basic XML object into a simple k/v pair.\n *\n * @param xml\n * @returns\n */\nexport function getResourceItemsAsObject(xml: ResourceItemXML[]): Record<string, string> | null {\n  return xml.reduce(\n    (prev, curr) => ({\n      ...prev,\n      [curr.$.name]: curr._,\n    }),\n    {}\n  );\n}\n\n/**\n * Helper to convert a basic k/v object to a ResourceItemXML array.\n *\n * @param xml\n * @returns\n */\nexport function getObjectAsResourceItems(obj: Record<string, string>): ResourceItemXML[] {\n  return Object.entries(obj).map(([name, value]) => ({\n    $: { name },\n    _: value,\n  }));\n}\n\nexport function getObjectAsResourceGroup(group: {\n  name: string;\n  parent: string;\n  item: Record<string, string>;\n}): ResourceGroupXML {\n  return {\n    $: {\n      name: group.name,\n      parent: group.parent,\n    },\n    item: getObjectAsResourceItems(group.item),\n  };\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"script","externalDependencies":[]}