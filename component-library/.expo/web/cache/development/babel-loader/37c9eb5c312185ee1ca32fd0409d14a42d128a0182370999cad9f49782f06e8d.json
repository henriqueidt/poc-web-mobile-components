{"ast":null,"code":"\"use strict\";\n\nvar __importDefault = this && this.__importDefault || function (mod) {\n  return mod && mod.__esModule ? mod : {\n    \"default\": mod\n  };\n};\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.createRedirectServedPathMiddleware = void 0;\nvar path_1 = __importDefault(require(\"path\"));\nfunction createRedirectServedPathMiddleware(servedPath) {\n  servedPath = servedPath.slice(0, -1);\n  return function redirectServedPathMiddleware(req, res, next) {\n    if (servedPath === '' || req.url === servedPath || req.url.startsWith(servedPath)) {\n      next();\n    } else {\n      var newPath = path_1.default.posix.join(servedPath, req.path !== '/' ? req.path : '');\n      res.redirect(newPath);\n    }\n  };\n}\nexports.createRedirectServedPathMiddleware = createRedirectServedPathMiddleware;","map":{"version":3,"names":["path_1","__importDefault","require","createRedirectServedPathMiddleware","servedPath","slice","redirectServedPathMiddleware","req","res","next","url","startsWith","newPath","default","posix","join","path","redirect","exports"],"sources":["/Users/henriqueeidt/Documents/Projects/poc-web-mobile-components/component-library/node_modules/@expo/webpack-config/src/utils/redirectServedPathMiddleware.ts"],"sourcesContent":["/**\n * Copyright (c) 2022 Expo, Inc.\n * Copyright (c) 2015-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * Based on https://github.com/facebook/create-react-app/blob/a422bf2/packages/react-dev-utils/redirectServedPathMiddleware.js\n * But with Node LTS support.\n */\nimport type express from 'express';\nimport path from 'path';\n\nexport function createRedirectServedPathMiddleware(servedPath: string) {\n  // remove end slash so user can land on `/test` instead of `/test/`\n  servedPath = servedPath.slice(0, -1);\n  return function redirectServedPathMiddleware(\n    req: express.Request,\n    res: express.Response,\n    next: express.NextFunction\n  ) {\n    if (servedPath === '' || req.url === servedPath || req.url.startsWith(servedPath)) {\n      next();\n    } else {\n      const newPath = path.posix.join(servedPath, req.path !== '/' ? req.path : '');\n      res.redirect(newPath);\n    }\n  };\n}\n"],"mappings":";;;;;;;;;;;AAWA,IAAAA,MAAA,GAAAC,eAAA,CAAAC,OAAA;AAEA,SAAgBC,kCAAkCA,CAACC,UAAkB;EAEnEA,UAAU,GAAGA,UAAU,CAACC,KAAK,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;EACpC,OAAO,SAASC,4BAA4BA,CAC1CC,GAAoB,EACpBC,GAAqB,EACrBC,IAA0B;IAE1B,IAAIL,UAAU,KAAK,EAAE,IAAIG,GAAG,CAACG,GAAG,KAAKN,UAAU,IAAIG,GAAG,CAACG,GAAG,CAACC,UAAU,CAACP,UAAU,CAAC,EAAE;MACjFK,IAAI,EAAE;KACP,MAAM;MACL,IAAMG,OAAO,GAAGZ,MAAA,CAAAa,OAAI,CAACC,KAAK,CAACC,IAAI,CAACX,UAAU,EAAEG,GAAG,CAACS,IAAI,KAAK,GAAG,GAAGT,GAAG,CAACS,IAAI,GAAG,EAAE,CAAC;MAC7ER,GAAG,CAACS,QAAQ,CAACL,OAAO,CAAC;;EAEzB,CAAC;AACH;AAfAM,OAAA,CAAAf,kCAAA,GAAAA,kCAAA"},"metadata":{},"sourceType":"script","externalDependencies":[]}