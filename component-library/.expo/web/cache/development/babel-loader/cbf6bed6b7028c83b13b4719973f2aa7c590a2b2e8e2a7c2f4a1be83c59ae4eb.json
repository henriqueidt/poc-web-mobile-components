{"ast":null,"code":"\"use strict\";\n\nvar _asyncToGenerator = require(\"@babel/runtime/helpers/asyncToGenerator\");\nvar _classCallCheck = require(\"@babel/runtime/helpers/classCallCheck\");\nvar _createClass = require(\"@babel/runtime/helpers/createClass\");\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nvar getModuleBuildError_1 = require(\"./getModuleBuildError\");\nvar ExpectedErrorsPlugin = function () {\n  function ExpectedErrorsPlugin() {\n    _classCallCheck(this, ExpectedErrorsPlugin);\n  }\n  _createClass(ExpectedErrorsPlugin, [{\n    key: \"parseErrorsAsync\",\n    value: function parseErrorsAsync(compilation, errors) {\n      return Promise.all(errors.map(function () {\n        var _ref = _asyncToGenerator(function* (error) {\n          try {\n            var parsed = yield (0, getModuleBuildError_1.getModuleBuildError)(compilation, error);\n            return parsed === false ? error : parsed;\n          } catch (e) {\n            console.log(e);\n            return error;\n          }\n        });\n        return function (_x) {\n          return _ref.apply(this, arguments);\n        };\n      }()));\n    }\n  }, {\n    key: \"apply\",\n    value: function apply(compiler) {\n      var _this = this;\n      compiler.hooks.compilation.tap(this.constructor.name, function (compilation) {\n        compilation.hooks.afterSeal.tapPromise(_this.constructor.name, _asyncToGenerator(function* () {\n          var _a, _b;\n          if ((_a = compilation.warnings) === null || _a === void 0 ? void 0 : _a.length) {\n            compilation.warnings = yield _this.parseErrorsAsync(compilation, compilation.warnings);\n          }\n          if ((_b = compilation.errors) === null || _b === void 0 ? void 0 : _b.length) {\n            compilation.errors = yield _this.parseErrorsAsync(compilation, compilation.errors);\n          }\n        }));\n      });\n    }\n  }]);\n  return ExpectedErrorsPlugin;\n}();\nexports.default = ExpectedErrorsPlugin;","map":{"version":3,"names":["getModuleBuildError_1","require","ExpectedErrorsPlugin","_classCallCheck","_createClass","key","value","parseErrorsAsync","compilation","errors","Promise","all","map","_ref","_asyncToGenerator","error","parsed","getModuleBuildError","e","console","log","_x","apply","arguments","compiler","_this","hooks","tap","constructor","name","afterSeal","tapPromise","_a","warnings","length","_b","exports","default"],"sources":["/Users/henriqueeidt/Documents/Projects/poc-web-mobile-components/component-library/node_modules/@expo/webpack-config/src/plugins/ExpectedErrors/ExpectedErrorsPlugin.ts"],"sourcesContent":["/**\n * Copyright © 2021 650 Industries.\n * Copyright © 2021 Vercel, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * Based on https://github.com/vercel/next.js/blob/1552b8341e5b512a2827485a4a9689cd429c520e/packages/next/build/webpack/plugins/wellknown-errors-plugin/index.ts\n */\nimport webpack from 'webpack';\n\nimport { getModuleBuildError } from './getModuleBuildError';\n\nexport default class ExpectedErrorsPlugin {\n  private parseErrorsAsync(compilation: webpack.Compilation, errors: any[]) {\n    return Promise.all(\n      errors.map(async error => {\n        try {\n          const parsed = await getModuleBuildError(compilation, error);\n          return parsed === false ? error : parsed;\n        } catch (e: any) {\n          console.log(e);\n          return error;\n        }\n      })\n    );\n  }\n\n  apply(compiler: webpack.Compiler) {\n    compiler.hooks.compilation.tap(this.constructor.name, compilation => {\n      compilation.hooks.afterSeal.tapPromise(this.constructor.name, async () => {\n        // Warnings\n        if (compilation.warnings?.length) {\n          compilation.warnings = await this.parseErrorsAsync(compilation, compilation.warnings);\n        }\n\n        // Errors\n        if (compilation.errors?.length) {\n          compilation.errors = await this.parseErrorsAsync(compilation, compilation.errors);\n        }\n      });\n    });\n  }\n}\n"],"mappings":";;;;;;;;AAWA,IAAAA,qBAAA,GAAAC,OAAA;AAA4D,IAEvCC,oBAAoB;EAAA,SAAAA,qBAAA;IAAAC,eAAA,OAAAD,oBAAA;EAAA;EAAAE,YAAA,CAAAF,oBAAA;IAAAG,GAAA;IAAAC,KAAA,EAC/B,SAAAC,iBAAiBC,WAAgC,EAAEC,MAAa;MACtE,OAAOC,OAAO,CAACC,GAAG,CAChBF,MAAM,CAACG,GAAG;QAAA,IAAAC,IAAA,GAAAC,iBAAA,CAAC,WAAMC,KAAK,EAAG;UACvB,IAAI;YACF,IAAMC,MAAM,SAAS,IAAAhB,qBAAA,CAAAiB,mBAAmB,EAACT,WAAW,EAAEO,KAAK,CAAC;YAC5D,OAAOC,MAAM,KAAK,KAAK,GAAGD,KAAK,GAAGC,MAAM;WACzC,CAAC,OAAOE,CAAM,EAAE;YACfC,OAAO,CAACC,GAAG,CAACF,CAAC,CAAC;YACd,OAAOH,KAAK;;QAEhB,CAAC;QAAA,iBAAAM,EAAA;UAAA,OAAAR,IAAA,CAAAS,KAAA,OAAAC,SAAA;QAAA;MAAA,IAAC,CACH;IACH;EAAC;IAAAlB,GAAA;IAAAC,KAAA,EAED,SAAAgB,MAAME,QAA0B;MAAA,IAAAC,KAAA;MAC9BD,QAAQ,CAACE,KAAK,CAAClB,WAAW,CAACmB,GAAG,CAAC,IAAI,CAACC,WAAW,CAACC,IAAI,EAAE,UAAArB,WAAW,EAAG;QAClEA,WAAW,CAACkB,KAAK,CAACI,SAAS,CAACC,UAAU,CAACN,KAAI,CAACG,WAAW,CAACC,IAAI,EAAAf,iBAAA,CAAE,aAAW;;UAEvE,IAAI,CAAAkB,EAAA,GAAAxB,WAAW,CAACyB,QAAQ,cAAAD,EAAA,uBAAAA,EAAA,CAAEE,MAAM,EAAE;YAChC1B,WAAW,CAACyB,QAAQ,SAASR,KAAI,CAAClB,gBAAgB,CAACC,WAAW,EAAEA,WAAW,CAACyB,QAAQ,CAAC;;UAIvF,IAAI,CAAAE,EAAA,GAAA3B,WAAW,CAACC,MAAM,cAAA0B,EAAA,uBAAAA,EAAA,CAAED,MAAM,EAAE;YAC9B1B,WAAW,CAACC,MAAM,SAASgB,KAAI,CAAClB,gBAAgB,CAACC,WAAW,EAAEA,WAAW,CAACC,MAAM,CAAC;;QAErF,CAAC,EAAC;MACJ,CAAC,CAAC;IACJ;EAAC;EAAA,OAAAP,oBAAA;AAAA;AA7BHkC,OAAA,CAAAC,OAAA,GAAAnC,oBAAA"},"metadata":{},"sourceType":"script","externalDependencies":[]}